<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
          <title>Decor Vista</title>
    </h:head>
    <h:body>

        <ui:insert name="header">
            <ui:include src="../header.xhtml"/>
        </ui:insert>

        <section class="page-title" style="background-image:url(../resources/images/background/5.jpg)">
            <div class="auto-container">
                <h2>Checkout</h2>
                <ul class="page-breadcrumb">
                    <li><a href="../home.xhtml">home</a></li>
                    <li>Checkout</li>
                </ul>
            </div>
        </section>
        <!--End Page Title-->
<h:form>
        <!--Checkout Page-->
        <div class="checkout-page">
            <div class="auto-container">

                <!--Default Links-->
                <ul class="default-links">
                    <li>
                        <h:panelGroup rendered="#{not loginMB.loggedIn}">
                            Returning customer? <a href="./login.xhtml">Click here to login</a>
                        </h:panelGroup>
                        <h:panelGroup rendered="#{loginMB.loggedIn}">
                            <a>
                                <h:form>
                                    
                                    <h:outputText value="Welcome, #{loginMB.loggedInUsername}!" styleClass="fa fa-user" />
                                    <!--<h:inputHidden value="Welcome, #{loginMB.loggedInUsername}!" />-->
                                </h:form>
                            </a>
                        </h:panelGroup>
                    </li>
                </ul>

                <!--Billing Details-->
                <div class="billing-details">
                    <div class="shop-form">
                        
                            <div class="row clearfix">
                                <div class="col-lg-7 col-md-12 col-sm-12">
                                    <div class="title-box"><h2>Billing Details</h2></div>
                                    <h:inputHidden id="orderID" value="#{orderMB.order.orderID}"/>
                                    <h:outputLabel for="orderDate" value="Order Date"/>
                                    <h:outputText id="orderDateText" value="#{orderMB.currentDate}">
                                        <f:convertDateTime pattern="yyyy-MM-dd HH:mm:ss" />
                                    </h:outputText>
                                    <h:inputHidden id="orderDate" value="#{orderMB.currentDate}">
                                        <f:convertDateTime pattern="yyyy-MM-dd HH:mm:ss" />
                                    </h:inputHidden>
                                    <h:message for="orderDate"/>
                                    <div class="billing-inner">
                                        <div class="row clearfix">
                                            <!--Form Group-->
                                            <div class="form-group col-md-12 col-sm-12 col-xs-12">
                                                <div class="field-label">Ship Address <sup>*</sup></div>

                                                <h:inputText id="shipAddress" value="#{orderMB.order.shipAddress}"/>
                                                <h:message for="shipAddress"/>
                                            </div>
                                            <div class="form-group col-md-6 col-sm-6 col-xs-12">
                                                <div class="field-label">Deliveries <sup>*</sup> </div>
                                                <h:form>
                                                    <h:selectOneMenu value="#{orderMB.deliveryID}" id="deliveryID">
                                                        <f:selectItems value="#{deliveryMB.showAllDeliveries()}" var="itemCate" itemValue="#{itemCate.deliveryID}" itemLabel="#{itemCate.deliveryName}"/>  
                                                    </h:selectOneMenu>
                                                </h:form>
                                            </div>
                                            <div class="form-group col-md-12 col-sm-12 col-xs-12">
                                                <div class="field-label">Order Notes</div>
                                                <h:inputText id="note" value="#{orderMB.order.note}"/>
                                                <h:message for="note"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Display order summary only if a delivery is selected -->
                                <div class="col-lg-5 col-md-12 col-sm-12">
                                    <div class="title-box"><h2>Your Order</h2></div>
                                    <div class="shop-order-box">
                                        <ul class="order-list">
                                            <li>Product<span>TOTAL</span></li>
                                            <li>Product Total<span class="dark"><h:outputText id="sumProductText" value="#{cartProcessMB.sumProductCart()}"/> products</span></li>

                                            <li>SubTotal<span class="dark"><h:outputText id="sumCartText" value="#{cartProcessMB.sumCart()}"/> VND</span></li>

                                            <li class="total">TOTAL<span class="dark"><h:outputText value="#{cartProcessMB.sumCart()}"/> VND</span></li>
                                        </ul>
                                        <div class="place-order">
                                            <div class="payment-options">
                                                <ul>
                                                    <h:selectOneMenu value="#{orderMB.paymentID}" id="paymentID">
                                                        <f:selectItems value="#{paymentMB.showAllPayments()}" var="itemP" itemValue="#{itemP.paymentID}" itemLabel="#{itemP.paymentName}"/>  
                                                    </h:selectOneMenu>
                                                </ul>
                                            </div>
                                            <h:panelGroup>
                                                <h:commandButton action="#{orderMB.addOrders()}" value="Add" type="submit" styleClass="btn btn-danger"/>

                                            </h:panelGroup>
                                        </div>
                                    </div>
                                </div>                             
                                <!-- Payment Options -->


                            </div>
                            <!-- End Place Order -->
                        
                    </div>
                </div><!-- End Billing Details -->

            </div>
        </div>
</h:form>
        <ui:insert name="bottom">
            <ui:include src="../footter.xhtml"/>
        </ui:insert>
        <script src="../resources/js/jquery.js"></script>
        <script src="../resources/js/popper.min.js"></script>
        <script src="../resourcesjs/jquery-ui.js"></script>
        <script src="../resources/js/bootstrap.min.js"></script>
        <script src="../resources/js/jquery.fancybox.js"></script>
        <script src="../resources/js/isotope.js"></script>
        <script src="../resources/js/owl.js"></script>
        <script src="../resources/js/wow.js"></script>
        <script src="../resources/js/validate.js"></script>
        <script src="../resources/js/appear.js"></script>
        <script src="../resources/js/scrollbar.js"></script>
        <script src="../resources/js/script.js"></script>
    </h:body>
</html>
